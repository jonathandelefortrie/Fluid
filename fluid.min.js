!function(){"use strict";var Attributes="accept,accept-charset,accesskey,action,align,alt,async,autocomplete,autofocus,autoplay,autosave,bgcolor,border,buffered,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,data,data-*,datetime,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,form,formaction,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,ismap,itemprop,keytype,kind,label,lang,language,list,loop,low,manifest,max,maxlength,media,method,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,seamless,selected,shape,size,sizes,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,type,usemap,value,width,wrap".split(","),Events="onafterprint,onbeforeprint,onbeforeunload,onhashchange,onload,onmessage,onoffline,ononline,onpagehide,onpageshow,onpopstate,onresize,onstorage,onunload,onblur,onchange,oncontextmenu,onfocus,oninput,oninvalid,onreset,onsearch,onselect,onsubmit,onkeydown,onkeypress,onkeyup,onclick,ondblclick,ondrag,ondragend,ondragenter,ondragleave,ondragover,ondragstart,ondrop,onmousedown,onmousemove,onmouseout,onmouseover,onmouseup,onscroll,onwheel,oncopy,oncut,onpaste,onabort,oncanplay,oncanplaythrough,oncuechange,ondurationchange,onemptied,onended,onerror,onloadeddata,onloadedmetadata,onloadstart,onpause,onplay,onplaying,onprogress,onratechange,onseeked,onseeking,onstalled,onsuspend,ontimeupdate,onvolumechange,onwaiting,onshow,ontoggle".split(","),logger=function(a,b,c){console[a]("FluidJS: ",b,c)},stamp=function(a){return a.replace(/<(.|\n)*?>/g,function(a){return a.replace(/^<([-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/g,function(a,b,c){var d=[];c.replace(/([-A-Za-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,function(b,c){Attributes.indexOf(c)===-1&&Events.indexOf(c)===-1&&(a=a.replace(b,""),d.push(b))});var e=b.length+1;return a.substr(0,e)+' stamp="'+b+'" props="'+d.join(",")+'"'+a.substr(e,a.length)})})},print=function(a){var b=document.createElement("body");return b.innerHTML=a,b.childNodes},attributes=function(component,node,name,value){Attributes.indexOf(name)!==-1?node[name]=value:Events.indexOf(name)!==-1&&function(){try{node[name]=eval("("+value+")")}catch(e){logger("error","The event "+name+" can't be converted.",e)}}.bind(component)()},properties=function(component,clone,name,value){Attributes.indexOf(name)===-1&&Events.indexOf(name)===-1&&function(){try{component.props[name]=eval("("+value+")")}catch(e){logger("error","The property "+name+" can't be converted.",e)}}.bind(clone)()},Fluid={create:function(a){var b=this;return Object.assign({props:{},state:{},init:function(){},willMount:function(){},didMount:function(){},setState:function(a){Object.assign(this.state,a);var c=this.render();c=stamp(c),c=print(c),c=b.mount(this,c),b.diff(c.firstElementChild,this.node,this)}},a)},mount:function(a,b){for(var c=this,d=[].slice.call(b).reverse(),e=document.createDocumentFragment(),f=d.length;f--;){var g=d[f],h=g.parentNode,i=g.childNodes;if(g&&1===g.nodeType){var j=a,k=g.attributes,l=k.removeNamedItem("stamp"),m=k.removeNamedItem("props");if(g instanceof HTMLUnknownElement){l=l.nodeValue,h.removeChild(g),m=m.nodeValue.split(","),a=a.extend[l];for(var n=m.length;n--;){var o=m[n].split("="),p=o[0],q=o[1];void 0!==p&&void 0===g[p]&&properties(a,j,p,q)}g=c.render(a,h)}for(var r=k.length;r--;){var s=k[r],t=s.nodeType,u=s.nodeName,v=s.nodeValue;u="class"===u||"classname"===u?"className":u,u="for"===u||"htmlfor"===u?"htmlFor":u,2===t&&void 0!==u&&void 0!==g[u]&&attributes(a,g,u,v)}g.appendChild(c.mount(j,i))}e.appendChild(g)}return e},diff:function(a,b,c){var d=this;if(1===a.nodeType&&1===b.nodeType){var e=a.childNodes,f=b.childNodes;if(e.length>f.length)for(var g,h,i=-1,j=e.length;++i<j;)g=e[i],h=f[i],h?g.nodeName!==h.nodeName&&b.insertBefore(g.cloneNode(!0),h):b.appendChild(g.cloneNode(!0));if(e.length<f.length)for(var k,l,m=-1,n=f.length;++m<n;)k=e[m],l=f[m],k&&k.nodeName!==l.nodeName&&(b.removeChild(l),m--);if(e.length===f.length)for(var o=e.length;o--;)d.diff(e[o],f[o],c);for(var p=[].slice.call(a.attributes),q=[].slice.call(b.attributes),r=p.length;r--;){var s=p[r],t=s.nodeName,u=s.nodeValue;t="class"===t?"className":t,t="for"===t?"htmlFor":t,u!==q[r].nodeValue&&attributes(c,b,t,u)}}else 3===a.nodeType&&3===b.nodeType&&a.textContent!==b.textContent&&(b.textContent=a.textContent)},render:function(a,b){var c=this;a.init();var d=a.render();return d=stamp(d),d=print(d),a.willMount(),d=c.mount(a,d),a.didMount(),a.node=d.firstElementChild,b.appendChild(d),a.node}};window.Fluid=Fluid}();